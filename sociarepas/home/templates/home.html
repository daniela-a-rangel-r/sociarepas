{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Ícono -->
    <link rel="icon" href="{% static 'assets/img/ascendev-logo-azul-y-negro-solo-letras.svg' %}" type="image/x-icon">
    <script src="{% static 'assets/js/sidebar_state.js' %}"></script>
    <!-- Boxicons -->
    <link rel="stylesheet" href="{% static 'assets/boxicons/fonts/basic/boxicons.min.css' %}">
    <!-- jQuery -->
    <script src="{% static 'assets/js/jquery-3.6.0.min.js' %}"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'assets/bootstrap-5.3.6/css/bootstrap.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/bootstrap-5.3.6/css/bootstrap.min.css' %}" />
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="{% static 'assets/DataTables/css/jquery.dataTables.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/DataTables/css/responsive.dataTables.min.css' %}">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <!-- Select2 CSS -->
    <link href="{% static 'assets/select2/css/select2.min.css' %}" rel="stylesheet" />
    <title>SociArepas</title>
</head>

<body>

    <section id="sidebar">
        <a href="{% url 'home:dashboard' %}" class="brand">
            <i class='bx  bx-cookie'></i>
            <span class="text">SociArepas</span>
        </a>
        <ul class="side-menu top">
            <li class="active">
                <a href="{% url 'home:dashboard' %}">
                    <i class='bx bxs-dashboard'></i>
                    <span class="text">Inicio</span>
                </a>
            </li>
            {% if user.is_superuser %}
            <li>
                <a href="{% url 'home:food_type' %}">
                    <i class='bx  bx-cookie'></i>
                    <span class="text">Arepas</span>
                </a>
            </li>
            <li>
                <a href="{% url 'home:food_filling' %}">
                    <i class='bx  bx-package'></i>
                    <span class="text">Rellenos</span>
                </a>
            </li>
            <li>
                <a href="{% url 'home:supplier' %}">
                    <i class='bx  bx-warehouse'></i>
                    <span class="text">Proveedores</span>
                </a>
            </li>
            {% endif %}
            <li>
                <a href="{% url 'home:order' %}">
                    <i class='bx bx-fork-spoon'></i>
                    <span class="text">Registrar Pedido</span>
                </a>
            </li>
            <li>
                <a href="{% url 'home:bill' %}">
                    <i class='bx bx-receipt'></i>
                    <span class="text">Facturas</span>
                </a>
            </li>
            <li>
                <a href="{% url 'login:logout' %}" class="logout">
                    <i class='bx bx-arrow-out-left-square-half'></i>
                    <span class="text">Cerrar Sesión</span>
                </a>
            </li>
        </ul>
    </section>

    <section id="content">
        <nav>
            <i class='bx bx-menu'></i>
            <form action="#">
                <div style="display: none;" class="form-input">
                    <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
                </div>
            </form>
            <input type="checkbox" id="switch-mode" hidden>
            <label for="switch-mode" class="switch-mode"></label>
        </nav>
        <main>
            {% block content %}

            {% endblock %}
        </main>
    </section>
    <!-- Spinner de carga -->
    <div id="loading-spinner" style="
        position: fixed;
        top: 0; left: 0; width: 100vw; height: 100vh;
        background: rgba(255,255,255,0.85);
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
    ">
        <div class="spinner-border text-primary" style="width: 4rem; height: 4rem;" role="status">
            <span class="visually-hidden">Cargando...</span>
        </div>
    </div>
    <!-- Bootstrap JS -->
    <script src="{% static 'assets/bootstrap-5.3.6/js/bootstrap.bundle.min.js' %}"></script>
    <!-- DataTables JS -->
    <script src="{% static 'assets/DataTables/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'assets/DataTables/js/dataTables.responsive.min.js' %}"></script>
    <!-- SweetAlert -->
    <script src="{% static 'assets/js/sweetalert2@11.js' %}"></script>
    <!-- Custom JS -->
    <script src="{% static 'assets/js/script.js' %}"></script>
    <script src="{% static 'assets/js/dark_mode.js' %}"></script>
    <script src="{% static 'assets/js/select2-request-stock.js' %}"></script>
    <!-- Select2 JS -->
    <script src="{% static 'assets/select2/js/select2.min.js' %}"></script>
    <!-- PDF JS -->
    <script src="{% static 'assets/pdfmake/js/pdfmake.min.js' %}"></script>
    <script src="{% static 'assets/pdfmake/js/vfs_fonts.js' %}"></script>
    {% block extra_js %}
    {% endblock %}
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            // Espera un pequeño tiempo para asegurar que el sidebar se pliegue
            setTimeout(function () {
                document.getElementById('loading-spinner').style.display = 'none';
            }, 300); // Puedes ajustar el tiempo si lo necesitas
        });
    </script>
</body>

</html>